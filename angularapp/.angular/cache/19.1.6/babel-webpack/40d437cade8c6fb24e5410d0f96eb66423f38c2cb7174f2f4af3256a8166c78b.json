{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/song.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = (a0, a1, a2) => ({\n  \"short\": a0,\n  \"medium\": a1,\n  \"long\": a2\n});\nconst _c1 = a0 => [\"/edit-song\", a0];\nfunction SongListComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Loading...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SongListComponent_table_3_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"span\", 3);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"td\")(16, \"button\", 4);\n    i0.ɵɵtext(17, \"Edit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const song_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(song_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(song_r1.artist);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(song_r1.album);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(song_r1.genre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 8, song_r1.releaseDate, \"shortDate\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(11, _c0, song_r1.duration <= 180, song_r1.duration > 180 && song_r1.duration <= 300, song_r1.duration > 300));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", song_r1.duration, \" seconds\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(15, _c1, song_r1.id));\n  }\n}\nfunction SongListComponent_table_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\")(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Artist\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Album\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Genre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Release Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Duration\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, SongListComponent_table_3_tr_18_Template, 18, 17, \"tr\", 2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.songs);\n  }\n}\nexport let SongListComponent = /*#__PURE__*/(() => {\n  class SongListComponent {\n    constructor(songService, router) {\n      this.songService = songService;\n      this.router = router;\n      this.songs = [];\n      this.loading = false;\n      this.sortOrder = 'asc';\n    }\n    ngOnInit() {\n      this.getSongs();\n    }\n    getSongs() {\n      this.loading = true;\n      try {\n        this.songService.getSongs().subscribe(res => {\n          console.log(res);\n          this.songs = res;\n          this.loading = false;\n        }, err => {\n          console.log(err);\n          this.loading = false;\n        });\n      } catch (err) {\n        console.log('Error:', err);\n        this.loading = false;\n      }\n    }\n    sortSongs() {\n      const orderMultiplier = this.sortOrder === 'asc' ? 1 : -1;\n      this.songs.sort((a, b) => {\n        return (a.duration - b.duration) * orderMultiplier;\n      });\n      // Toggle sort order for the next click\n      this.sortOrder = this.sortOrder === 'asc' ? 'desc' : 'asc';\n    }\n    editSong(id) {\n      this.router.navigate(['/edit-song', id]);\n    }\n    static {\n      this.ɵfac = function SongListComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || SongListComponent)(i0.ɵɵdirectiveInject(i1.SongService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: SongListComponent,\n        selectors: [[\"app-song-list\"]],\n        decls: 4,\n        vars: 2,\n        consts: [[3, \"click\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\"], [3, \"routerLink\"]],\n        template: function SongListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"button\", 0);\n            i0.ɵɵlistener(\"click\", function SongListComponent_Template_button_click_0_listener() {\n              return ctx.sortSongs();\n            });\n            i0.ɵɵtext(1, \"Sort by Duration\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(2, SongListComponent_div_2_Template, 2, 0, \"div\", 1)(3, SongListComponent_table_3_Template, 19, 1, \"table\", 1);\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          }\n        },\n        dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, i3.DatePipe, RouterModule, i2.RouterLink],\n        styles: [\"table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}thead[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:8px 12px;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#218838}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}button.edit[_ngcontent-%COMP%]{background-color:#ffc107;color:#212529}button.edit[_ngcontent-%COMP%]:hover{background-color:#e0a800}div[ngIf=loading][_ngcontent-%COMP%]{font-size:1.2rem;color:#007bff}span.short[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;padding:4px 8px;border-radius:4px}span.medium[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404;padding:4px 8px;border-radius:4px}span.long[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;padding:4px 8px;border-radius:4px}@media (max-width: 768px){table[_ngcontent-%COMP%]{width:100%;font-size:.9rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px}button[_ngcontent-%COMP%]{padding:6px 10px}}\"]\n      });\n    }\n  }\n  return SongListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}